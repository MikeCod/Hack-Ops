<h1>SQL Injection</h1>

<h2>When does it appear ?</h2>
	
	<p>
	SQL injection attacks are a type of injection attack, in which SQL commands are injected into data-plane input in order to affect the execution of predefined SQL commands.
	</p>
	<pre><code class="language-php">$link->query("SELECT * FROM articles WHERE id = '".$_GET['id']."'")</code></pre>

<h2>What's the risk ?</h2>

	<p>
	A successful SQL injection exploit can read sensitive data from the database, modify database data (Insert/Update/Delete), execute administration operations on the database (such as shutdown the DBMS), recover the content of a given file present on the DBMS file system and in some cases issue commands to the operating system.
	</p>

<h2>How does the exploitation work ?</h2>

	<p>
	A SQL injection attack consists of insertion or “injection” of a SQL query via the input data from the client to the application.
	</p>
	<pre><code class="language-sql">' AND 1=2 OR id = '1' -- </code></pre>

<h2>How to patch it ?</h2>

	<p>
	We need to use PDO::quote
	or use a prepared request PDO::prepare
	</p>
	<pre><code class="language-php">$link->query("SELECT * FROM articles WHERE id = ".$link->quote($_GET['id']))</code></pre>
	<pre><code class="language-php">$link->prepare("SELECT * FROM articles WHERE id = ?")</code></pre>
